!function(r){var t={};function i(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=r,i.c=t,i.d=function(r,t,e){i.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},i.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},i.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(t,"a",t),t},i.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},i.p="",i(i.s=3)}([function(r,t){r.exports=function(){this.x=0,this.y=0,this.direction="right"}},function(r,t){r.exports=function(){this.x=Math.floor(10*Math.random()),this.y=Math.floor(10*Math.random())}},function(r,t,i){var e=i(1),n=i(0);r.exports=function(){this.board=document.querySelectorAll("#board div"),this.furry=new n,this.coin=new e,this.score=0,this.index=function(r,t){return r+10*t},this.showFurry=function(){this.hideVisibleFurry(),this.board[this.index(this.furry.x,this.furry.y)].classList.add("furry")},this.showCoin=function(){this.board[this.index(this.coin.x,this.coin.y)].classList.add("coin")},this.startGame=function(){var r=this;this.idSetInterval=setInterval(function(){r.moveFurry()},250)},this.moveFurry=function(){"left"===this.furry.direction?this.furry.x-=1:"right"===this.furry.direction?this.furry.x+=1:"up"===this.furry.direction?this.furry.y+=1:"down"===this.furry.direction&&(this.furry.y-=1),this.gameOver(),this.showFurry(),this.checkCoinCollision()},this.hideVisibleFurry=function(){null!==document.querySelector(".furry")&&document.querySelector(".furry").classList.remove("furry")},this.turnFurry=function(r){switch(r.which){case 37:this.furry.direction="left";break;case 38:this.furry.direction="down";break;case 39:this.furry.direction="right";break;case 40:this.furry.direction="up"}},this.checkCoinCollision=function(){this.furry.x===this.coin.x&&this.furry.y===this.coin.y&&(document.querySelector(".coin").classList.remove("coin"),this.score+=1,document.querySelector("#score strong").innerText=this.score,this.coin=new e,this.showCoin())},this.endGameMessage=function(){var r=document.querySelector("#over");r.classList.remove("invisible"),this.score<3?r.querySelector("pre").innerText="Oops! Game over, try again":r.querySelector("pre").innerText="Congratulations, you scored: "+this.score+" points!"},this.gameOver=function(){(this.furry.x<0||this.furry.x>9||this.furry.y<0||this.furry.y>9)&&(clearInterval(this.idSetInterval),this.hideVisibleFurry(),this.endGameMessage())}}},function(r,t,i){var e=new(i(2));e.showFurry(),e.showCoin(),e.startGame(),document.addEventListener("keydown",function(r){e.turnFurry(r)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvZnVycnkuanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29pbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9nYW1lLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIngiLCJ5IiwiZGlyZWN0aW9uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiQ29pbiIsIkZ1cnJ5IiwiYm9hcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmdXJyeSIsImNvaW4iLCJzY29yZSIsImluZGV4Iiwic2hvd0Z1cnJ5IiwiaGlkZVZpc2libGVGdXJyeSIsImNsYXNzTGlzdCIsImFkZCIsInNob3dDb2luIiwic3RhcnRHYW1lIiwic2VsZiIsImlkU2V0SW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm1vdmVGdXJyeSIsImdhbWVPdmVyIiwiY2hlY2tDb2luQ29sbGlzaW9uIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsInR1cm5GdXJyeSIsImV2ZW50Iiwid2hpY2giLCJpbm5lclRleHQiLCJlbmRHYW1lTWVzc2FnZSIsImdhbWVPdmVyU2NyZWVuIiwiY2xlYXJJbnRlcnZhbCIsImdhbWUiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdB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TUFBQVQsVUFBQSxPQUtBSCxLQUFBMkIsbUJBQUEsV0FDQTNCLEtBQUFZLE1BQUFYLElBQUFELEtBQUFhLEtBQUFaLEdBQUFELEtBQUFZLE1BQUFWLElBQUFGLEtBQUFhLEtBQUFYLElBQ0FRLFNBQUFrQixjQUFBLFNBQUFWLFVBQUFXLE9BQUEsUUFDQTdCLEtBQUFjLE9BQUEsRUFDQUosU0FBQWtCLGNBQUEsaUJBQUFLLFVBQUFqQyxLQUFBYyxNQUNBZCxLQUFBYSxLQUFBLElBQUFOLEVBQ0FQLEtBQUFvQixhQUlBcEIsS0FBQWtDLGVBQUEsV0FDQSxJQUFBQyxFQUFBekIsU0FBQWtCLGNBQUEsU0FDQU8sRUFBQWpCLFVBQUFXLE9BQUEsYUFDQTdCLEtBQUFjLE1BQUEsRUFDQXFCLEVBQUFQLGNBQUEsT0FBQUssVUFBQSw2QkFFQUUsRUFBQVAsY0FBQSxPQUFBSyxVQUFBLGdDQUFBakMsS0FBQWMsTUFBQSxZQUlBZCxLQUFBMEIsU0FBQSxZQUNBMUIsS0FBQVksTUFBQVgsRUFBQSxHQUFBRCxLQUFBWSxNQUFBWCxFQUFBLEdBQUFELEtBQUFZLE1BQUFWLEVBQUEsR0FBQUYsS0FBQVksTUFBQVYsRUFBQSxLQUVBa0MsY0FBQXBDLEtBQUF1QixlQUNBdkIsS0FBQWlCLG1CQUNBakIsS0FBQWtDLHFDQ3pGQSxJQUdBRyxFQUFBLElBSEFsRSxFQUFBLElBS0FrRSxFQUFBckIsWUFDQXFCLEVBQUFqQixXQUNBaUIsRUFBQWhCLFlBR0FYLFNBQUE0QixpQkFBQSxtQkFBQVAsR0FDQU0sRUFBQVAsVUFBQUMiLCJmaWxlIjoib3V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsIi8vY29uc3RydWN0b3IgRnVycnlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gRnVycnkoKSB7XG4gICAgdGhpcy54ID0gMDtcbiAgICB0aGlzLnkgPSAwO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0Jztcbn07XG4iLCIvL2NvbnN0cnVjdG9yIENvaW5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQ29pbigpIHtcbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgdGhpcy55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xufSIsInZhciBDb2luID0gcmVxdWlyZSgnLi9jb2luLmpzJyk7XG52YXIgRnVycnkgPSByZXF1aXJlKCcuL2Z1cnJ5LmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gR2FtZSgpIHtcbiAgICB0aGlzLmJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2JvYXJkIGRpdicpO1xuICAgIHRoaXMuZnVycnkgPSBuZXcgRnVycnkoKTtcbiAgICB0aGlzLmNvaW4gPSBuZXcgQ29pbigpO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIHRoaXMuaW5kZXggPSBmdW5jdGlvbih4LHkpIHtcbiAgICAgICAgcmV0dXJuIHggKyAoeSAqIDEwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zaG93RnVycnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5oaWRlVmlzaWJsZUZ1cnJ5KCk7XG4gICAgICAgIHRoaXMuYm9hcmRbdGhpcy5pbmRleCh0aGlzLmZ1cnJ5LngsIHRoaXMuZnVycnkueSldLmNsYXNzTGlzdC5hZGQoJ2Z1cnJ5Jyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0NvaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ib2FyZFt0aGlzLmluZGV4KHRoaXMuY29pbi54LCB0aGlzLmNvaW4ueSldLmNsYXNzTGlzdC5hZGQoJ2NvaW4nKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmlkU2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtzZWxmLm1vdmVGdXJyeSgpfSwgMjUwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlRnVycnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZnVycnkuZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIHRoaXMuZnVycnkueCAtPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnVycnkuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLmZ1cnJ5LnggKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICAgdGhpcy5mdXJyeS55ICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5mdXJyeS5kaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICAgICAgdGhpcy5mdXJyeS55IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICB0aGlzLnNob3dGdXJyeSgpO1xuICAgICAgICB0aGlzLmNoZWNrQ29pbkNvbGxpc2lvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdXJyeScpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZnVycnknKS5jbGFzc0xpc3QucmVtb3ZlKCdmdXJyeScpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudHVybkZ1cnJ5ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICB0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSAnZG93bic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgIHRoaXMuZnVycnkuZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSAndXAnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tDb2luQ29sbGlzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmZ1cnJ5LnggPT09IHRoaXMuY29pbi54ICYmIHRoaXMuZnVycnkueSA9PT0gdGhpcy5jb2luLnkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2luJykuY2xhc3NMaXN0LnJlbW92ZSgnY29pbicpO1xuICAgICAgICAgICAgdGhpcy5zY29yZSArPSAxO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Njb3JlIHN0cm9uZycpLmlubmVyVGV4dCA9IHRoaXMuc2NvcmU7XG4gICAgICAgICAgICB0aGlzLmNvaW4gPSBuZXcgQ29pbigpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q29pbigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZW5kR2FtZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdhbWVPdmVyU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI292ZXInKTtcbiAgICAgICAgZ2FtZU92ZXJTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJyk7XG4gICAgICAgIGlmICh0aGlzLnNjb3JlIDwgMykge1xuICAgICAgICAgICAgZ2FtZU92ZXJTY3JlZW4ucXVlcnlTZWxlY3RvcigncHJlJykuaW5uZXJUZXh0ID0gJ09vcHMhIEdhbWUgb3ZlciwgdHJ5IGFnYWluJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhbWVPdmVyU2NyZWVuLnF1ZXJ5U2VsZWN0b3IoJ3ByZScpLmlubmVyVGV4dCA9ICdDb25ncmF0dWxhdGlvbnMsIHlvdSBzY29yZWQ6ICcgKyB0aGlzLnNjb3JlICsgJyBwb2ludHMhJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdhbWVPdmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvdXRPZkJvdW5kcyA9ICh0aGlzLmZ1cnJ5LnggPCAwKSB8fCAodGhpcy5mdXJyeS54ID4gOSkgfHwgKHRoaXMuZnVycnkueSA8IDApIHx8ICh0aGlzLmZ1cnJ5LnkgPiA5KTtcbiAgICAgICAgaWYgKG91dE9mQm91bmRzKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaWRTZXRJbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkoKTtcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5cblxuXG5cblxuXG4iLCJ2YXIgR2FtZSA9IHJlcXVpcmUoJy4vZ2FtZS5qcycpO1xuXG4vL0NhbGxpbmcgbWV0aG9kcyBvbiBuZXcgb2JqZWN0ICdnYW1lJyBvZiBjb25zdHJ1Y3RvciAnR2FtZSdcbnZhciBnYW1lID0gbmV3IEdhbWUoKTtcblxuZ2FtZS5zaG93RnVycnkoKTtcbmdhbWUuc2hvd0NvaW4oKTtcbmdhbWUuc3RhcnRHYW1lKCk7XG5cbi8vY2hhbmdlIGRpcmVjdGlvbiBvbiBrZXlkb3duXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBnYW1lLnR1cm5GdXJyeShldmVudCk7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9